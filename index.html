<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>D&D War Map</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            display: flex;
            height: 100vh;
            background: #222;
            color: white;
        }
        
        #quest-log {
            width: 250px;
            border-right: 1px solid #444;
            padding: 10px;
            overflow-y: auto;
            background: #333;
        }
        
        #quest-log h2 {
            margin-top: 0;
            color: gold;
        }
        
        #quests {
            margin-top: 10px;
        }
        
        .quest {
            border: 1px solid #555;
            border-radius: 4px;
            padding: 8px;
            margin-bottom: 8px;
            background: #444;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .quest:hover {
            background: #555;
        }
        
        .quest.completed {
            background: #2a5a2a;
            text-decoration: line-through;
        }
        
        #map-container {
            flex: 1;
            position: relative;
        }
        
        #map {
            width: 100%;
            height: 100%;
            background: #111;
        }
        
        #dm-toggle {
            position: absolute;
            top: 10px;
            left: 10px;
            z-index: 1000;
            padding: 8px 12px;
            background: #333;
            color: white;
            border: 1px solid #666;
            border-radius: 4px;
            cursor: pointer;
            font-weight: bold;
        }
        
        #dm-toggle:hover {
            background: #444;
        }
        
        #dm-form {
            position: absolute

oh I am using github, and the map is already in the repository, it is called map.png

Perfect! Since you're using GitHub and your map image (map.png) is already in your repository, we'll use that. Here's the complete, simplified code that will work with your setup:
html

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>D&D War Map</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            display: flex;
            height: 100vh;
            background: #222;
            color: white;
        }
        
        #quest-log {
            width: 250px;
            border-right: 1px solid #444;
            padding: 10px;
            overflow-y: auto;
            background: #333;
        }
        
        #quest-log h2 {
            margin-top: 0;
            color: gold;
        }
        
        #quests {
            margin-top: 10px;
        }
        
        .quest {
            border: 1px solid #555;
            border-radius: 4px;
            padding: 8px;
            margin-bottom: 8px;
            background: #444;
            cursor: pointer;
        }
        
        #map-container {
            flex: 1;
            position: relative;
        }
        
        #map {
            width: 100%;
            height: 100%;
            background: #111;
        }
        
        #dm-toggle {
            position: absolute;
            top: 10px;
            left: 10px;
            z-index: 1000;
            padding: 8px 12px;
            background: #333;
            color: white;
            border: 1px solid #666;
            cursor: pointer;
        }
        
        #dm-form {
            position: absolute;
            top: 50px;
            left: 10px;
            z-index: 1000;
            background: #333;
            padding: 15px;
            border: 1px solid #666;
            width: 250px;
            display: none;
            color: white;
        }
        
        #dm-form input {
            width: 100%;
            padding: 5px;
            margin: 5px 0;
            background: #444;
            border: 1px solid #666;
            color: white;
        }
        
        #dm-form button {
            margin-top: 10px;
            padding: 5px 10px;
            background: #555;
            color: white;
            border: 1px solid #666;
            cursor: pointer;
        }
        
        .marker-icon {
            background: none;
            border: none;
            font-size: 24px;
            text-shadow: 1px 1px 2px black;
            cursor: pointer;
        }
    </style>
    <!-- Leaflet CSS -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.3/dist/leaflet.css">
</head>
<body>

<div id="quest-log">
    <h2>Quest Log</h2>
    <div id="quests"><em>No active quests</em></div>
</div>

<div id="map-container">
    <button id="dm-toggle">Enable DM Mode</button>
    
    <div id="dm-form">
        <h3>Add Location</h3>
        <input type="text" id="loc-name" placeholder="Location name">
        <input type="text" id="loc-desc" placeholder="Description (optional)">
        <div>
            <button id="save-btn">Save</button>
            <button id="cancel-btn">Cancel</button>
        </div>
    </div>
    
    <div id="map"></div>
</div>

<!-- Leaflet JS -->
<script src="https://unpkg.com/leaflet@1.9.3/dist/leaflet.js"></script>

<!-- Firebase -->
<script type="module">
    // Import Firebase
    import { initializeApp } from "https://www.gstatic.com/firebasejs/9.22.1/firebase-app.js";
    import { getDatabase, ref, set, onValue, push, remove } from "https://www.gstatic.com/firebasejs/9.22.1/firebase-database.js";

    // Your Firebase configuration (same as before)
    const firebaseConfig = {
        apiKey: "AIzaSyCSiNBtCiYN4ednW1_uIHryPsnTIgnjcpY",
        authDomain: "pinzari-f2483.firebaseapp.com",
        projectId: "pinzari-f2483",
        storageBucket: "pinzari-f2483.appspot.com",
        messagingSenderId: "815815853823",
        appId: "1:815815853823:web:ee7cb2d443f40467066eca",
        measurementId: "G-7CESPP944M"
    };

    // Initialize Firebase
    const app = initializeApp(firebaseConfig);
    const db = getDatabase(app);

    // Map variables
    let map;
    let dmMode = false;
    let markers = [];
    let locations = [];
    let tempMarker = null;

    // Initialize the map with your custom image
    function initMap() {
        // Create the map
        map = L.map('map', {
            crs: L.CRS.Simple,  // Simple coordinate system (good for custom maps)
            minZoom: -2,
            maxZoom: 2
        });

        // Your map.png dimensions (you'll need to adjust these)
        const mapWidth = 692;  // Change to your image width in pixels
        const mapHeight = 676; // Change to your image height in pixels
        
        // Calculate the bounds for your image
        const southWest = map.unproject([0, mapHeight], map.getMaxZoom());
        const northEast = map.unproject([mapWidth, 0], map.getMaxZoom());
        const bounds = new L.LatLngBounds(southWest, northEast);
        
        // Add your map image
        L.imageOverlay('map.png', bounds).addTo(map);
        
        // Set the view to center of the map
        map.fitBounds(bounds);
        
        // Click handler for adding markers
        map.on('click', function(e) {
            if (dmMode) {
                // Remove any existing temp marker
                if (tempMarker) {
                    map.removeLayer(tempMarker);
                }
                
                // Add new temporary marker
                tempMarker = L.marker(e.latlng, {
                    icon: L.divIcon({
                        className: 'marker-icon',
                        html: 'üìç',
                        iconSize: [30, 30]
                    }),
                    draggable: true
                }).addTo(map);
                
                // Show the form
                document.getElementById('dm-form').style.display = 'block';
                document.getElementById('loc-name').focus();
            }
        });
    }

    // Load locations from Firebase
    function loadLocations() {
        const locationsRef = ref(db, 'locations');
        onValue(locationsRef, (snapshot) => {
            locations = [];
            markers.forEach(marker => map.removeLayer(marker));
            markers = [];
            
            const data = snapshot.val();
            if (data) {
                Object.keys(data).forEach(key => {
                    const loc = data[key];
                    locations.push(loc);
                    
                    // Add marker to map
                    const marker = L.marker([loc.lat, loc.lng], {
                        icon: L.divIcon({
                            className: 'marker-icon',
                            html: 'üìç',
                            iconSize: [30, 30]
                        })
                    }).addTo(map);
                    
                    // Add popup with location info
                    marker.bindPopup(`
                        <strong>${loc.name}</strong><br>
                        ${loc.desc || ''}
                        ${dmMode ? `<br><button onclick="deleteLocation('${loc.id}')">Delete</button>` : ''}
                    `);
                    
                    markers.push(marker);
                });
            }
        });
    }

    // Save location to Firebase
    async function saveLocation() {
        const name = document.getElementById('loc-name').value.trim();
        const desc = document.getElementById('loc-desc').value.trim();
        
        if (!name) {
            alert('Please enter a location name');
            return;
        }
        
        if (!tempMarker) {
            alert('No marker placed on map');
            return;
        }
        
        const locationData = {
            id: push(ref(db, 'locations')).key,
            name: name,
            desc: desc,
            lat: tempMarker.getLatLng().lat,
            lng: tempMarker.getLatLng().lng
        };
        
        try {
            await set(ref(db, 'locations/' + locationData.id), locationData);
            document.getElementById('dm-form').style.display = 'none';
            document.getElementById('loc-name').value = '';
            document.getElementById('loc-desc').value = '';
            tempMarker = null;
        } catch (error) {
            console.error('Error saving location:', error);
            alert('Failed to save location');
        }
    }

    // Delete location from Firebase
    async function deleteLocation(id) {
        if (confirm('Delete this location?')) {
            try {
                await remove(ref(db, 'locations/' + id));
            } catch (error) {
                console.error('Error deleting location:', error);
                alert('Failed to delete location');
            }
        }
    }

    // Make deleteLocation available globally
    window.deleteLocation = deleteLocation;

    // Initialize the app when page loads
    window.onload = function() {
        initMap();
        loadLocations();
        
        // Set up button events
        document.getElementById('dm-toggle').addEventListener('click', function() {
            dmMode = !dmMode;
            this.textContent = dmMode ? 'Disable DM Mode' : 'Enable DM Mode';
            this.style.background = dmMode ? '#555' : '#333';
        });
        
        document.getElementById('save-btn').addEventListener('click', saveLocation);
        
        document.getElementById('cancel-btn').addEventListener('click', function() {
            document.getElementById('dm-form').style.display = 'none';
            if (tempMarker) {
                map.removeLayer(tempMarker);
                tempMarker = null;
            }
        });
    };
</script>
</body>
</html>
</html>
